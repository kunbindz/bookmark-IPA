(this.webpackJsonpDynonary=this.webpackJsonpDynonary||[]).push([[17],{323:function(e,t,r){"use strict";function a(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r.d(t,"a",(function(){return a}))},325:function(e,t,r){"use strict";var a=r(24),n=r(323),c=r(318),o=(r(0),r(292)),i=Object(o.a)((function(){return{root:{"& .MuiInputBase-root":{backgroundColor:"var(--bg-color-accent)",borderRadius:"var(--border-radius)",border:"solid 1px var(--border-color)",color:"var(--text-color)","& ::placeholder":{color:"var(--text-color)",fontSize:"1.6rem"}},"& .MuiInputBase-root.Mui-focused":{borderColor:"var(--secondary-color)"},"& .MuiFormLabel-root":{color:"var(--label-color)",fontSize:"1.5rem"},"& label.Mui-focused":{color:"var(--secondary-color)"},"& .MuiFormLabel-root.Mui-error":{color:"var(--error-color)"},"& .MuiInputBase-root.Mui-error":{borderColor:"var(--error-color)"}}}})),s=r(1),l=["endAdornment","error","inputProps"];function u(e){var t=e.endAdornment,r=e.error,o=e.inputProps,u=Object(n.a)(e,l),d=i();return Object(s.jsx)(c.a,Object(a.a)({classes:d,error:r,InputProps:{disableUnderline:!0,endAdornment:t},inputProps:o,InputLabelProps:{shrink:!0},variant:"filled"},u))}u.defaultProps={endAdornment:null,error:!1,inputProps:{}};t.a=u},394:function(e,t,r){"use strict";var a=r(13),n=r(303),c=r(431),o=r.n(c),i=r(432),s=r.n(i),l=r(296),u=r(430),d=r.n(u),b=r(6),m=r(0),p=r(17),h=r(52),j=r(292),v=Object(j.a)((function(){return{input:{display:"none"},btn:{minHeight:"5.6rem",backgroundColor:"var(--bg-color-accent) !important",boxShadow:"none !important",border:"solid 1px var(--border-color)",color:"var(--label-color)",textTransform:"capitalize","&:hover, &:active":{opacity:"0.85"}},skeleton:{height:"100% !important",backgroundColor:"var(--bg-color-accent)"},review:{backgroundColor:"var(--bg-color-accent)",border:"solid 1px var(--border-color)",padding:"0.6rem 1.2rem",borderRadius:"var(--sm-border-radius)","& img":{height:"5.4rem",width:"5.4rem"},"& p":{color:"var(--text-color)",fontSize:"1.2rem",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",padding:"0 0.4rem"},"& .icon":{color:"var(--label-color)",fontSize:"2.4rem",transition:"all 0.25s","&:hover, &:active":{transform:"scale(1.1)"}}}}})),f=r(1);function O(e){var t,r,c,i=e.title,u=e.className,j=e.onChange,O=e.resetFlag,g=v(),x=Object(p.b)(),w=Object(m.useState)({status:0,data:null}),y=Object(a.a)(w,2),N=y[0],S=y[1];Object(m.useEffect)((function(){O&&S({status:0,data:null})}),[O]);var k=function(){j(null),S({status:0}),x(Object(h.c)({type:"error",message:"T\u1ea3i t\u1eadp tin th\u1ea5t b\u1ea1i, th\u1eed l\u1ea1i"}))},C=function(e){var t=function(e){if(!e)return{status:!1,message:"File kh\xf4ng h\u1ee3p l\u1ec7"};var t=e.type,r=e.size;return"image"!==t.split("/")[0]?{status:!1,message:"File g\u1eedi l\xean ph\u1ea3i l\xe0 m\u1ed9t \u1ea3nh"}:r/Math.pow(1024,2)>b.e.IMG_SIZE?{status:!1,message:"K\xedch th\u01b0\u1edbc c\u1ee7a \u1ea3nh t\u1ed1i \u0111a l\xe0 ".concat(b.e.IMG_SIZE," MB")}:{status:!0}}(e),r=t.status,a=t.message,n=void 0===a?"":a;if(!r)return x(Object(h.c)({type:"error",message:n})),void j(null);S({status:1});var c=e.size/Math.pow(1024,2);new d.a(e,{quality:c>1?.6:.8,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onerror=k,t.onload=function(t){var r=t.target.result;j(r),S({status:2,data:{imgSrc:r,fileName:e.name,fileSize:(e.size/Math.pow(1024,2)).toFixed(2)}})}},error:function(){k()}})};return Object(f.jsxs)("div",{className:u,children:[0===N.status&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{className:g.input,accept:"image/*",id:"button-file",htmlFor:"contained-button-file",type:"file",onChange:function(e){return C(e.target.files[0])}}),Object(f.jsx)("label",{htmlFor:"button-file",children:Object(f.jsx)(n.a,{className:"".concat(g.btn," w-100 h-100"),variant:"contained",color:"primary",component:"span",endIcon:Object(f.jsx)(o.a,{}),children:i})})]}),1===N.status&&Object(f.jsx)(l.a,{variant:"rect",classes:{root:g.skeleton}}),2===N.status&&Object(f.jsxs)("div",{className:"".concat(g.review," w-100 h-100 flex-center-between"),children:[Object(f.jsx)("img",{src:null===(t=N.data)||void 0===t?void 0:t.imgSrc,alt:"photo"}),Object(f.jsxs)("p",{children:["".concat(null===(r=N.data)||void 0===r?void 0:r.fileName," (").concat(null===(c=N.data)||void 0===c?void 0:c.fileSize," MB)")," "]}),Object(f.jsx)(s.a,{className:"icon cur-pointer",onClick:function(){j(null),S({status:0,data:null})}})]})]})}O.defaultProps={title:"Upload",className:"",onChange:function(){},resetFlag:0};t.a=O},566:function(e,t,r){"use strict";var a=r(36),n=r(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),o=(0,a(r(37)).default)(c.createElement(c.Fragment,null,c.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),c.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");t.default=o},567:function(e,t,r){"use strict";var a=r(36),n=r(38);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(r(0)),o=(0,a(r(37)).default)(c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},578:function(e,t,r){"use strict";r.r(t);var a=r(42),n=r.n(a),c=r(51),o=r(13),i=r(72),s=r(19),l=r(0),u=r(17),d=r(52),b=r(73),m=r(24),p=r(303),h=r(567),j=r.n(h),v=r(566),f=r.n(v),O=r(325),g=r(394),x=r(6),w=r(292),y=Object(w.a)((function(){return{wrap:{minHeight:"calc(100vh - 7.2rem)"},root:{backgroundColor:"var(--bg-color-sec)",padding:"3.6rem 5.6rem",borderRadius:"var(--border-radius)",textAlign:"center",boxShadow:"var(--box-shadow)"},avtWrap:{width:"15rem",height:"15rem",position:"relative"},avt:{borderRadius:"50%"},cameraIconWrap:{position:"absolute",right:0,bottom:0,width:"4.2rem",height:"4.2rem",padding:"1.2rem",backgroundColor:"var(--primary-color)",borderRadius:"50%",cursor:"pointer",border:"solid 5px var(--bg-color-sec)","&:hover, &:active":{opacity:.85}},cameraIcon:{color:"var(--text-color)",fontSize:"2rem"},fileInput:{position:"absolute",width:"4.2rem",height:"4.2rem",top:0,left:0,opacity:0,cursor:"pointer"},name:{fontSize:"2.4rem",lineHeight:1.5,letterSpacing:"0.75px"},username:{fontSize:"1.5rem",fontWeight:400,color:"var(--label-color)",letterSpacing:"0.75px"},info:{margin:"2.4rem 0","& p":{lineHeight:2,fontSize:"1.6rem",letterSpacing:"0.75px",color:"var(--text-color)"}},coin:{color:"var(--label-color)",fontWeight:"bold",fontSize:"2rem"}}})),N=r(1);var S=function(e){var t=e.onUpload,r=e.onUpdateProfile,a=e.email,n=e.createdDate,c=Object(u.c)((function(e){return e.userInfo})),i=c.username,b=c.name,h=c.avt,v=c.coin,w=Boolean(h)?Object(s.b)(h,150,150):x.c.IMAGE_SRC,S=y(),k=Object(l.useState)(!1),C=Object(o.a)(k,2),M=C[0],E=C[1],I=Object(l.useRef)({name:b,username:i}),z=Object(l.useState)({name:!1,username:!1}),P=Object(o.a)(z,2),_=P[0],A=P[1],F=Object(u.b)(),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t?(_.name&&""!==e&&A(Object(m.a)(Object(m.a)({},_),{},{name:!1})),I.current.name=e):(_.username&&""!==e&&A(Object(m.a)(Object(m.a)({},_),{},{username:!1})),I.current.username=e)};return Object(N.jsx)("div",{className:"".concat(S.wrap," container flex-center"),children:Object(N.jsxs)("div",{className:S.root,children:[Object(N.jsx)("div",{className:"flex-center w-100 h-100",children:Object(N.jsxs)("div",{className:S.avtWrap,children:[Object(N.jsx)("img",{className:"".concat(S.avt," w-100 h-100"),src:w,alt:"Avatar Photo"}),Object(N.jsxs)("div",{className:"".concat(S.cameraIconWrap," flex-center"),children:[Object(N.jsx)(f.a,{className:S.cameraIcon}),Object(N.jsx)(g.a,{className:S.fileInput,onChange:t})]})]})}),M?Object(N.jsxs)("div",{className:"flex-center-col mt-8",children:[Object(N.jsx)(O.a,{onChange:function(e){return L(e.target.value,1)},className:"mb-8",placeholder:b,label:"Nh\u1eadp t\xean",error:_.name,defaultValue:b}),Object(N.jsx)(O.a,{onChange:function(e){return L(e.target.value,0)},placeholder:i,label:"Nh\u1eadp username",error:_.username,defaultValue:i})]}):Object(N.jsxs)("div",{className:"mt-8",children:[Object(N.jsx)("h2",{className:S.name,children:b}),Object(N.jsx)("h4",{className:S.username,children:i})]}),Object(N.jsxs)("div",{className:S.info,children:[Boolean(a)&&Object(N.jsx)("p",{children:a}),Boolean(n)&&Object(N.jsxs)("p",{children:["\u0110\xe3 tham gia v\xe0o ",n]}),Object(N.jsxs)("p",{children:["S\u1ed1 coin hi\u1ec7n t\u1ea1i: ",Object(N.jsx)("span",{className:S.coin,children:v})]})]}),M?Object(N.jsxs)("div",{className:"d-flex w-100",children:[Object(N.jsx)(p.a,{onClick:function(){I.current={name:b,username:i},E(!1)},className:"".concat(S.editBtn," _btn _btn-outlined-accent w-50"),children:"Hu\u1ef7 b\u1ecf"}),Object(N.jsx)(p.a,{onClick:function(){var e=I.current,t=e.name,a=e.username;if(t!==b.trim()||i!==a.trim())return""===t.trim()?(A(Object(m.a)(Object(m.a)({},_),{},{name:!0})),void F(Object(d.c)({type:"error",message:"Vui l\xf2ng nh\u1eadp t\xean"}))):""===a.trim()?(A(Object(m.a)(Object(m.a)({},_),{},{username:!0})),void F(Object(d.c)({type:"error",message:"Vui l\xf2ng nh\u1eadp username"}))):-1!==a.indexOf(" ")?(A(Object(m.a)(Object(m.a)({},_),{},{username:!0})),void F(Object(d.c)({type:"error",message:"username kh\xf4ng ch\u1ee9a kho\u1ea3ng tr\u1ed1ng"}))):a.length>x.e.USERNAME_LEN?(A(Object(m.a)(Object(m.a)({},_),{},{username:!0})),void F(Object(d.c)({type:"error",message:"username t\u1ed1i \u0111a ".concat(x.e.USERNAME_LEN," k\xfd t\u1ef1")}))):t.length>x.e.NAME_LEN?(A(Object(m.a)(Object(m.a)({},_),{},{name:!0})),void F(Object(d.c)({type:"error",message:"T\xean t\u1ed1i \u0111a ".concat(x.e.NAME_LEN," k\xfd t\u1ef1")}))):void r(t.trim(),a.trim())},className:"".concat(S.editBtn," _btn _btn-primary ml-4 w-50"),children:"C\u1eadp nh\u1eadt"})]}):Object(N.jsx)(p.a,{onClick:function(){return E(!0)},className:"".concat(S.editBtn," _btn _btn-primary w-100"),startIcon:Object(N.jsx)(j.a,{}),children:"Ch\u1ec9nh s\u1eeda"})]})})};var k=function(){var e=Object(l.useState)({email:null,createdDate:null}),t=Object(o.a)(e,2),r=t[0],a=t[1],m=Object(u.b)();Object(l.useEffect)((function(){var e=!0;return Object(c.a)(n.a.mark((function t(){var r,c,o,l;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.getUserProfile();case 3:200===(r=t.sent).status&&e&&(c=r.data,o=c.email,l=c.createdDate,a({email:o,createdDate:Object(s.e)(l)})),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){return e=!1}}),[]);var p=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.putUpdateAvt(t);case 3:200===(r=e.sent).status&&(m(Object(d.c)({type:"success",message:"C\u1eadp nh\u1eadt \u1ea3nh \u0111\u1ea1i di\u1ec7n th\xe0nh c\xf4ng"})),m(Object(b.d)(r.data.newSrc))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m(Object(d.c)({type:"error",message:"C\u1eadp nh\u1eadt \u1ea3nh \u0111\u1ea1i di\u1ec7n th\u1ea5t b\u1ea1i. Th\u1eed l\u1ea1i"}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a,c,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.putUpdateProfile(t,r);case 3:200===e.sent.status&&(m(Object(d.c)({type:"success",message:"C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng",duration:500})),setTimeout((function(){location.reload()}),750)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=(null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message)||"Ch\u1ec9nh s\u1eeda th\xf4ng tin th\u1ea5t b\u1ea1i, th\u1eed l\u1ea1i !",m(Object(d.c)({type:"error",message:o}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(N.jsx)(S,{email:r.email,createdDate:r.createdDate,onUpload:p,onUpdateProfile:h})},C=r(58);t.default=function(){return Object(C.a)("Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"),Object(N.jsx)(k,{})}}}]);
//# sourceMappingURL=17.6d77accd.chunk.js.map